# Azure Document Intelligence credentials (PolicyAsCode standard names)
# Aliases supported for backward compatibility: AZURE_FT_ENDPOINT/KEY, DOCUMENTINTELLIGENCE_ENDPOINT/API_KEY
AZURE_DOCUMENTINTELLIGENCE_ENDPOINT=
AZURE_DOCUMENTINTELLIGENCE_KEY=

# Vision Processing (Figure Understanding) - for PolicyAsCode figure processing
OPENAI_API_KEY=
GEMINI_API_KEY=

# Classification model (default: gemini-3-pro-preview)
# Use gemini-3-flash-preview with reasoning=minimal for faster classification
CLASSIFICATION_MODEL=gemini-3-flash-preview
CLASSIFICATION_REASONING_EFFORT=minimal

# Direction detection model (default: gemini-3-pro-preview)
# Use gemini-3-flash-preview with reasoning=minimal for faster detection
DIRECTION_MODEL=gemini-3-flash-preview
DIRECTION_REASONING_EFFORT=minimal

# SAM3 Segmentation Server (for flowchart shape detection)
# Local dev: run SAM3 server locally (requires sam3-local deps)
SAM3_MODE=local
SAM3_SERVER_URL=http://localhost:8001
#
# Railway/Production: set these env vars in Railway dashboard:
#   SAM3_MODE=remote
#   SAM3_SERVER_URL=https://api.runpod.ai/v2/<endpoint_id>/runsync
#   SAM3_API_KEY=rpa_xxx
#   SAM3_RESPONSE_WRAPPER=runpod

# Feedback LLM settings
FEEDBACK_LLM_API_KEY=
FEEDBACK_LLM_MODEL=

# Optional paths (override defaults for deployments)
PDF_DIR=
DATA_DIR=
OUTPUT_DIR=
AZURE_OUTPUT_DIR=

# Chunker Preprocessing (shared by all chunkers)
# ────────────────────────────────────────────────
# These control element filtering and section detection BEFORE any
# chunker-specific logic runs.  Both section_based and size_controlled
# chunkers inherit these settings.
# SECTION_BASED_CHUNK_BBOX_TOLERANCE=5.0                # Pixel tolerance for bounding-box alignment
# SECTION_BASED_CHUNK_NOISE_TYPES=pageHeader,pageFooter,pageNumber,footnote,Line,SelectionMark
#                                                       # Azure DI element types discarded as noise
# SECTION_BASED_CHUNK_SECTION_BREAK_TYPES=title,sectionHeading
#                                                       # Element types that start a new section
# SECTION_BASED_CHUNK_STANDALONE_TYPES=Table,Figure,Image
#                                                       # Element types that become their own chunk
# SECTION_BASED_CHUNK_INCLUDE_ORIG_ELEMENTS=true        # Embed source elements in chunk metadata

# Size-Controlled Chunker
# ───────────────────────
# SIZE_CONTROLLED_CHUNK_MIN_CHARS=200                 # Merge sections smaller than this
# SIZE_CONTROLLED_CHUNK_MAX_CHARS=12000               # Split sections larger than this (~3K tokens)
# SIZE_CONTROLLED_CHUNK_TARGET_CHARS=4000             # Target chunk size (~1K tokens)
# SIZE_CONTROLLED_CHUNK_CHARS_PER_TOKEN=4.0           # Chars-per-token ratio
# SIZE_CONTROLLED_CHUNK_MERGE_SMALL=true              # Merge small sections into neighbours
# SIZE_CONTROLLED_CHUNK_SPLIT_LARGE=true              # Split oversized sections
# SIZE_CONTROLLED_CHUNK_PRESERVE_TABLES=true          # Keep tables intact even if oversized
# SIZE_CONTROLLED_CHUNK_MERGE_TOWARD_TARGET=true      # Combine sections toward target

# Runtime knobs
DISABLE_HI_RES=0
HOST=0.0.0.0
PORT=8000
RELOAD=false

# PolicyAsCode Development Mode (on-demand updates without restart)
# When enabled, PaC is cloned to PAC_LOCAL_PATH and can be updated via Settings UI.
# Use this on Railway or local dev to test PaC changes without redeploying.
#
# PAC_DEV_MODE=1                                    # Enable dev mode ("1", "true")
# PAC_LOCAL_PATH=/tmp/pac                           # Clone location (Railway default)
# PAC_LOCAL_PATH=../PolicyAsCode                    # Local dev (use existing clone)
# PAC_BRANCH=feature/chunking-visualizer-integration  # Branch to clone/pull
# PAC_REPO_URL=https://github.com/kyndryl-agentic-ai/PolicyAsCode.git  # Repo URL
# GH_TOKEN=ghp_xxxx                                 # GitHub PAT (used by gh CLI and PaC clone)
